# Rules for AEP-126: Enumerations

[aep-126]: https://aep.dev/126

## aep-126-enum-type-string

**Rule**: Enumerated fields should use `type: string`, not `type: integer` or
other types.

This rule enforces that all enum fields use string types for better readability
and maintainability.

### Details

This rule checks that fields with an `enum` property have `type: string`.
Integer or number enums are less readable and harder to maintain than string
enums.

### Examples

**Incorrect** code for this rule:

```yaml
components:
  schemas:
    Book:
      type: object
      properties:
        status:
          type: integer
          enum: [0, 1, 2]
```

**Correct** code for this rule:

```yaml
components:
  schemas:
    Book:
      type: object
      properties:
        status:
          type: string
          enum: ['DRAFT', 'PUBLISHED', 'ARCHIVED']
```

### Disabling

If you need to violate this rule, add an override:

```yaml
overrides:
  - files:
      - 'openapi.json#/components/schemas/Book/properties/status'
    rules:
      aep-126-enum-type-string: 'off'
```

## aep-126-enum-case-consistent

**Rule**: All enum values in a field should use consistent case formatting.

This rule ensures that all values within a single enum use the same case style
(e.g., all UPPERCASE, all lowercase, or all kebab-case). It does not enforce a
specific case format, only consistency.

### Details

This rule checks that enum values don't mix different case styles like
UPPERCASE, lowercase, camelCase, or kebab-case within the same enum.

### Examples

**Incorrect** code for this rule:

```yaml
components:
  schemas:
    Order:
      type: object
      properties:
        status:
          type: string
          enum: ['active', 'PENDING', 'In_Progress'] # Mixed case styles
```

**Correct** code for this rule:

```yaml
components:
  schemas:
    Order:
      type: object
      properties:
        status:
          type: string
          enum: ['ACTIVE', 'PENDING', 'IN_PROGRESS'] # Consistent UPPERCASE
```

```yaml
components:
  schemas:
    Order:
      type: object
      properties:
        status:
          type: string
          enum: ['active', 'pending', 'in-progress'] # Consistent lowercase/kebab-case
```

### Disabling

```yaml
overrides:
  - files:
      - 'openapi.json#/components/schemas/Order/properties/status'
    rules:
      aep-126-enum-case-consistent: 'off'
```

## aep-126-enum-null-first

**Rule**: If enum is nullable, `null` should be the first value in the enum
array.

This rule enforces a consistent pattern where `null` appears as the first
element in nullable enums for improved API predictability.

### Details

For optional enums (fields with `nullable: true`), this rule checks that if
`null` is included in the enum array, it must be the first value.

### Examples

**Incorrect** code for this rule:

```yaml
components:
  schemas:
    Book:
      type: object
      properties:
        format:
          type: string
          nullable: true
          enum: ['HARDCOVER', null, 'PAPERBACK'] # null not first
```

**Correct** code for this rule:

```yaml
components:
  schemas:
    Book:
      type: object
      properties:
        format:
          type: string
          nullable: true
          enum: [null, 'HARDCOVER', 'PAPERBACK', 'EBOOK'] # null first
```

### Disabling

```yaml
overrides:
  - files:
      - 'openapi.json#/components/schemas/Book/properties/format'
    rules:
      aep-126-enum-null-first: 'off'
```

## aep-126-enum-nullable-declaration

**Rule**: If enum contains `null`, field must declare `nullable: true`.

This rule enforces the OpenAPI 3.0 requirement that fields with `null` in their
enum array must also declare `nullable: true`.

### Details

When an enum array contains `null` as one of the values, the field must
explicitly declare `nullable: true` for proper OpenAPI validation.

### Examples

**Incorrect** code for this rule:

```yaml
components:
  schemas:
    Book:
      type: object
      properties:
        format:
          type: string
          enum: [null, 'HARDCOVER', 'PAPERBACK'] # Missing nullable: true
```

**Correct** code for this rule:

```yaml
components:
  schemas:
    Book:
      type: object
      properties:
        format:
          type: string
          nullable: true
          enum: [null, 'HARDCOVER', 'PAPERBACK', 'EBOOK']
```

### Disabling

```yaml
overrides:
  - files:
      - 'openapi.json#/components/schemas/Book/properties/format'
    rules:
      aep-126-enum-nullable-declaration: 'off'
```

## aep-126-no-standard-value-enums

**Rule**: Fields should not enumerate standard codes (language, country,
currency, media types).

This rule warns when field names suggest they contain standard codes that
should reference existing standards rather than creating limited enums.

### Details

Standard codes like language codes (ISO 639), country codes (ISO 3166),
currency codes (ISO 4217), and media types (IANA) should not be enumerated.
Using enums for these values can lead to lookup tables and integration issues.

Field names that trigger this warning:

- `language`, `language_code` → Use ISO 639
- `country`, `country_code`, `region_code` → Use ISO 3166
- `currency`, `currency_code` → Use ISO 4217
- `media_type`, `content_type` → Use IANA media types

### Examples

**Incorrect** code for this rule:

```yaml
components:
  schemas:
    Document:
      type: object
      properties:
        language:
          type: string
          enum: ['EN', 'FR', 'ES'] # Should use ISO 639 standard
```

**Correct** code for this rule:

```yaml
components:
  schemas:
    Document:
      type: object
      properties:
        language_code:
          type: string
          description: 'ISO 639-1 language code'
          pattern: '^[a-z]{2}(-[A-Z]{2})?$'
          example: 'en-US'
```

### Disabling

```yaml
overrides:
  - files:
      - 'openapi.json#/components/schemas/Document/properties/language'
    rules:
      aep-126-no-standard-value-enums: 'off'
```

## aep-126-enum-has-description

**Rule**: Enum fields should include a `description` property.

This rule encourages documentation of enum fields to help API consumers
understand their purpose and usage.

### Details

Enum fields should include a description explaining what the enum represents
and how it should be used.

### Examples

**Incorrect** code for this rule:

```yaml
components:
  schemas:
    Book:
      type: object
      properties:
        format:
          type: string
          enum: ['HARDCOVER', 'PAPERBACK', 'EBOOK'] # Missing description
```

**Correct** code for this rule:

```yaml
components:
  schemas:
    Book:
      type: object
      properties:
        format:
          type: string
          description: 'The format in which the book is published'
          enum: ['HARDCOVER', 'PAPERBACK', 'EBOOK', 'AUDIOBOOK']
```

### Disabling

```yaml
overrides:
  - files:
      - 'openapi.json#/components/schemas/Book/properties/format'
    rules:
      aep-126-enum-has-description: 'off'
```
