# Rules for AEP-142: Time and Duration

[aep-142]: https://aep.dev/142

## aep-142-time-field-type

**Rule**: Fields representing timestamps should use string type with date-time
format.

This rule enforces that all fields ending in `_time` use the proper OpenAPI
format for timestamps.

### Details

This rule looks for properties whose names end in `_time` and validates that
they:

- Have `type: string`
- Have `format: date-time`

This ensures timestamps conform to RFC 3339 format and are properly validated.

### Examples

**Incorrect** code for this rule:

```yaml
schemas:
  book:
    type: object
    properties:
      title:
        type: string
      create_time:
        type: string
        # Missing format: date-time
```

```yaml
schemas:
  book:
    type: object
    properties:
      title:
        type: string
      update_time:
        type: integer
        format: int64
        # Wrong type - should be string with date-time format
```

**Correct** code for this rule:

```yaml
schemas:
  book:
    type: object
    properties:
      title:
        type: string
      create_time:
        type: string
        format: date-time
      update_time:
        type: string
        format: date-time
```

### Disabling

If you need to violate this rule for a specific field, add an "override" to the
Spectral rule file for the specific file and fragment.

```yaml
overrides:
  - files:
      - 'openapi.json#/components/schemas/book/properties/create_time'
    rules:
      aep-142-time-field-type: 'off'
```

## aep-142-time-field-names

**Rule**: Timestamp fields should use imperative mood with \_time suffix, not
past tense.

This rule encourages consistent naming conventions for timestamp fields by
discouraging past-tense field names.

### Details

This rule complains if timestamp fields (those with `type: string` and
`format: date-time`) use past-tense names like:

- `created`
- `updated`
- `modified`
- `deleted`
- `published`
- `started`
- `ended`
- `completed`

Instead, use imperative mood with a `_time` suffix (e.g., `create_time`,
`update_time`).

### Examples

**Incorrect** code for this rule:

```yaml
schemas:
  book:
    type: object
    properties:
      title:
        type: string
      created:
        type: string
        format: date-time
      updated:
        type: string
        format: date-time
```

**Correct** code for this rule:

```yaml
schemas:
  book:
    type: object
    properties:
      title:
        type: string
      create_time:
        type: string
        format: date-time
      update_time:
        type: string
        format: date-time
```

### Disabling

If you need to violate this rule for a specific field, add an "override" to the
Spectral rule file for the specific file and fragment.

```yaml
overrides:
  - files:
      - 'openapi.json#/components/schemas/book/properties/created'
    rules:
      aep-142-time-field-names: 'off'
```
